# jsontemplate
## Example
### Value producers
<table><tr><th width="600">Template</th><th width="50%">Generated Json</th></tr>
<tr><td><pre>
{
  aField : @s
}
</pre></td><td><pre>
{
  "aField" : "ISCZd"
}
</pre></td></tr>
<tr><td><pre>
{
  aField : @i
}
</pre></td><td><pre>
{
  "aField" : 56
}
</pre></td></tr>
<tr><td><pre>
{
  aField : @b
}
</pre></td><td><pre>
{
  "aField" : false
}
</pre></td></tr>
</table>

In JsonTemplate, **@** is the **type tag**. When it is placed at the value part,
it represents a value with that type. In the above examples, `@s`, `@i`, `@b` 
are **value producers** which produces values with types of string, integer, 
and boolean respectively. If no parameter is given to a value producer, it generates 
a random value by default. ?? what are the default settings.

### Value producers with a single parameter
<table><tr><th width="600">Template</th><th width="50%">Generated Json</th></tr>
<tr><td><pre>
{
  aField : @s(myValue)
}
</pre></td><td><pre>
{
  "aField" : "myValue"
}
</pre></td></tr>
</table>

If a **single parameter** is given to a value producer, a fixed value which is 
equal to the single parameter is generated by default.

### Value producers with a list parameter
<table><tr><th width="600">Template</th><th width="50%">Generated Json</th></tr>
<tr><td><pre>
{
  aField : @s(A, B, C, D)
}
</pre></td><td><pre>
{
  "aField" : "C"
}
</pre></td></tr>
</table>

If a **list parameter** is given to a value producer, a value in that list is
randomly picked up by the value producer by default.

### Value producers with a map parameter
<table><tr><th width="600">Template</th><th width="50%">Generated Json</th></tr>
<tr><td><pre>
{
  aField : @s(size=10)
}
</pre></td><td><pre>
{
  "aField" : "awpVXpJTxb"
}
</pre></td></tr>
<tr><td><pre>
{
  aField : @s(min=10, max=20)
}
</pre></td><td><pre>
{
  "aField" : "awpVXpJTxb"
}
</pre></td></tr>
</table>

If a **map parameter** is given to a value producer, a value is genereated
according to the map values. Following is the default expected map values: ??
reference

### Json objects
<table><tr><th width="600">Template</th><th width="50%">Generated Json</th></tr>
<tr><td><pre>
{
  anObject : {
    aField : @s, 
    bField : @s
  }
}
</pre></td><td><pre>
{
  "anObject" : {
    "aField" : "hhnNc",
    "bField" : "EyHbB"
  }
}
</pre></td></tr>
</table>

A json object consists of a set of properties. Each property can be specified
with a value producer.

### Array producer with size configuration
<table><tr><th width="600">Template</th><th width="50%">Generated Json</th></tr>
<tr><td><pre>
@s[](3)
</pre></td><td><pre>
[ "hwhCL", "tDcPO", "OgdGC" ]
</pre></td></tr>
<tr><td><pre>
@s[](1, 10)
</pre></td><td><pre>
[ "QwWxg", "ytaGY", "NGZBr", "DsBKx", "MvwSb", "qsEXA", "YHkxC" ]
</pre></td></tr>
</table>

Array tag **[]** produces an array. The default value producer for the array 
elements is placed before `[]`. The size configuration of the generated array is 
placed after `[]`. 

- `(3)` means size of 3 and it is a shorthand of `(size=3)`
- `(1, 10)` means the size range is between 1 and 10 and it is a short hand of
`(min=1, max=10)`
- `(min=1)` means the minimum size is 1, by default the maximum size is 2 times
greater than the minimum value which is 2 in this case. There is no shorthand.
- `(max=10)` means the maximem size is 10, by default the minimum size is 0.
There is no shorthand.


### Array producer with elements
<table><tr><th width="600">Template</th><th width="50%">Generated Json</th></tr>
<tr><td><pre>
@s [ 1, 2, 3, 4 ]
</pre></td><td><pre>
[ "1", "2", "3", "4" ]
</pre></td></tr>
<tr><td><pre>
@s [ 1, 2, 3, 4 ](6)
</pre></td><td><pre>
[ "1", "2", "3", "4", "qRTWm", "RTBik" ]
</pre></td></tr>
<tr><td><pre>
@s [ 1, @i(2), @b(false), @s(4) ]
</pre></td><td><pre>
[ "1", 2, false, "4" ]
</pre></td></tr>
</table>

The array tag can contain elements. 

- In the first example, it produces string elements.
- In the second exmaple, the size is greater than the amount of the listed elements.
The extra elements will be filled by the value producer. In this case, the values
are random strings of length 5. If the size is not greater, all listed elements
are remained without filled elements. Same rule applies to the range size.
- In the third example, each elements can have its own value producer the it
overwrites the default value producer.


### Customized value producer definition
<table><tr><th width="600">Template</th><th width="50%">Generated Json</th></tr>
<tr><td><pre>
{
  @address : {
    city : @s,
    street : @s,
    number : @i
  },
  office : @address, 
  home : @address
}
</pre></td><td><pre>
{
  "office" : {
    "city" : "MavBr",
    "street" : "odcjd",
    "number" : 79
  },
  "home" : {
    "city" : "zdNCm",
    "street" : "UsBcv",
    "number" : 63
  }
}
</pre></td></tr>
<tr><td><pre>
{ 
  @address : {
    city : @s(Amsterdam, Utrecht),
    street : @s,
    number : @i(min=1000)
  },
  office : @address,
  home : @address
}
</pre></td><td><pre>
{
  "office" : {
    "city" : "Amsterdam",
    "street" : "LAUbf",
    "number" : 1626
  },
  "home" : {
    "city" : "Utrecht",
    "street" : "xpLYB",
    "number" : 1024
  }
}
</pre></td></tr>
</table>

A value producer can be defined in the template. It is in the form of a json object
property and the property name should start with the type tag **@**. 

- The definition is always global.
- The definition is taken out from where it is defined.
- An instance of the definition is put to the places where the definition is referred.

### Other pre-installed types
<table><tr><th width="600">Template</th><th width="50%">Generated Json</th></tr>
<tr><td><pre>
{
  ipField : @ip
}
</pre></td><td><pre>
{
  "ipField" : "59.221.49.83"
}
</pre></td></tr>
</table>

### Default type
<table><tr><th width="600">Template</th><th width="50%">Generated Json</th></tr>
<tr><td><pre>
@s {
  fieldA, 
  fieldB
}
</pre></td><td><pre>
{
  "fieldA" : "yUiIE",
  "fieldB" : "vrMwv"
}
</pre></td><td><pre>
@s(size=10) {
  fieldA, 
  fieldB : @s(size=20)
}
</pre></td><td><pre>
{
  "fieldA" : "yUiIE",
  "fieldB" : "vrMwv" // todo
}
</pre></td></tr>
</table>


## Inject variables
### Use the variable indicator in value specification

<tr><td><pre>
{
  name : $name
}
</pre></td><td><pre>
{
  "name" : "John"
}
</pre></td></tr><tr><td colspan="2">
comments</td></tr>


<tr><td><pre>
{
  letters : $letters
}
</pre></td><td><pre>
{
  "letters" : [
    "A",
    "B",
    "C"
  ]
}
</pre></td></tr><tr><td colspan="2">
comments</td></tr>


<tr><td><pre>
{
  person : $person
}
</pre></td><td><pre>
{
  "person" : {
    "roles" : [
      "Admin",
      "Finance",
      "HR"
    ],
    "name" : "John",
    "age" : 20,
    "male" : true
  }
}
</pre></td></tr><tr><td colspan="2">
comments</td></tr>

### Use the variable indicator in type specification
<tr><td><pre>
{
  aField: @s($myValue)
}
</pre></td><td><pre>
{
  "aField" : "helloworld"
}
</pre></td></tr><tr><td colspan="2">
comments</td></tr>


<tr><td><pre>
{
  aField: @s($myValue)
}
</pre></td><td><pre>
{
  "aField" : "C"
}
</pre></td></tr><tr><td colspan="2">
comments</td></tr>


<tr><td><pre>
{
  aField: @s($config)
}
</pre></td><td><pre>
{
  "aField" : "HORklISFDrQzhumRojWQ"
}
</pre></td></tr><tr><td colspan="2">
comments</td></tr>

 ### use String.format()
 
 
</table>

- @s (String)
-- size
-- min
-- max


- @i (Integer)

